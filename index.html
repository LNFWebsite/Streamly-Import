<!doctype html>
<html>
<head>
  <title>Streamly Import</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto" type="text/css" />
  <link rel="stylesheet" href="styles.css" type="text/css" />
  <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="//cdn.rawgit.com/zenorocha/clipboard.js/a4c8bc5bf0d9df8519e80af2c091a9ff9527e675/dist/clipboard.min.js"></script>
  <script src="index.js"></script>
</head>
<body>
  <a href="https://github.com/LNFWebsite/Streamly-Import" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
  <h1>Streamly Import</h1>
  <p>Import playlists to Streamly from other services</p>
  <h2>Streamus</h2>
  <hr>
  <label for="streamusURLInput">Paste your Streamus Playlist URL:</label>
  <input type="textbox" id="streamusURLInput" placeholder="(eg. https://streamus.com/share/playlist/1f9edabfdeb8/tropical_house)" autofocus />
  <p>A tab of the Streamus website should open.</p>
  <p>Below the "Add to Streamus" button in the new tab, you should see a bunch of garbled text. Copy ALL of it, and paste it below.</p>
  <textarea id="streamusJSONInput"></textarea>
  <p id="voila" style="display: none;">Voil√†! A tab of your playlist in Streamly should have opened!</p>
  <script>
  $("#streamusURLInput").on("paste", function() {
    setTimeout(function() {
      var input = $("#streamusURLInput");
      var regex = /^http(|s):\/\/streamus.com\/share\/playlist\/.*\/.*/i;
      
      input = input.trim();
      input = input.match(regex);
      
      if (input !== null) {
        window.open($("#streamusURLInput").val() + "/json");
        $("#streamusJSONInput").focus();
      }
    }, 0);
  });
  $("#streamusJSONInput").on("paste", function() {
    setTimeout(function() {
      streamusJSONInput();
    }, 0);
  });
  </script>
</body>
</html>
